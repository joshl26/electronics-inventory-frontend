// custom.scss
// Enhanced Bootstrap overrides and component theming using SCSS variables
// NOTE: Set SCSS variables here BEFORE importing bootstrap.scss so overrides take effect.

/* ----------------------------------------------------
   Bootstrap SCSS variable overrides
   ---------------------------------------------------- */

// Colors
$orange-primary: #ff7b00 !default;
$orange-dark: #e66900 !default;
$blue-primary: #007bff !default;
$gray-light: #e0e0e0 !default;
$gray-dark: #0f1112 !default;

// Theme color map (Bootstrap uses $theme-colors)
$theme-colors: (
  "primary": $orange-primary,
  "secondary": $gray-light,
  "success": #28a745,
  "info": #17a2b8,
  "warning": #ffc107,
  "danger": #dc3545,
  "light": #f8f9fa,
  "dark": $gray-dark,
);

// Typography
$font-family-sans-serif: "Fira Sans", -apple-system, BlinkMacSystemFont,
  "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$font-family-heading: "Cabin", -apple-system, BlinkMacSystemFont, "Segoe UI",
  Roboto, sans-serif;
$headings-font-family: $font-family-heading;
$headings-font-weight: 700;

// Spacing
$spacer: 1rem;
$spacers: (
  0: 0,
  1: $spacer * 0.25,
  2: $spacer * 0.5,
  3: $spacer,
  4: $spacer * 1.5,
  5: $spacer * 3,
);

// Border radius
$border-radius: 0.5rem;
$border-radius-sm: 0.375rem;
$border-radius-lg: 0.75rem;

// Buttons
$btn-padding-y: 0.625rem;
$btn-padding-x: 1.25rem;
$btn-font-weight: 600;
$btn-border-radius: 0.625rem;
$btn-transition: all 0.22s cubic-bezier(0.4, 0, 0.2, 1);

// Forms
$input-padding-y: 0.75rem;
$input-padding-x: 1rem;
$input-border-radius: 0.625rem;
$input-border-color: rgba(0, 0, 0, 0.12);
$input-focus-border-color: $orange-primary;
$input-focus-box-shadow: 0 0 0 0.2rem rgba(255, 123, 0, 0.15);

/* ----------------------------------------------------
   Import Bootstrap (after you set overrides above)
   ---------------------------------------------------- */
@import "../node_modules/bootstrap/scss/bootstrap.scss";

/* ----------------------------------------------------
   Custom component overrides and utility classes
   ---------------------------------------------------- */

/* Buttons */
.btn {
  font-family: $font-family-sans-serif;
  font-weight: $btn-font-weight;
  transition: $btn-transition;
  border: 2px solid transparent;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  }

  &:focus {
    box-shadow: 0 0 0 0.2rem rgba($orange-primary, 0.25);
  }
}

.btn-primary {
  background-color: var(--btn-primary-bg);
  color: var(--btn-primary-text);

  &:hover {
    background-color: var(--btn-primary-hover-bg);
    box-shadow: 0 0.375rem 1.25rem rgba($orange-primary, 0.35);
  }
}

/* Forms */
.form-control,
.form-select {
  font-family: $font-family-sans-serif;
  transition: all 0.22s cubic-bezier(0.4, 0, 0.2, 1);
  background-color: var(--input-bg);
  color: var(--input-text);
  border-color: var(--input-border);

  &::placeholder {
    color: var(--input-placeholder);
  }

  &:focus {
    border-color: var(--input-focus-border);
    box-shadow: var(--input-focus-box-shadow);
  }
}

/* Dropdown */
.dropdown-menu {
  border: none;
  box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.12);
  padding: 0.5rem;
  border-radius: $border-radius;
}

/* Cards */
.card {
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: 0 0.125rem 0.75rem rgba(0, 0, 0, 0.06);
  transition: all 0.22s ease;
  overflow: hidden;

  &:hover {
    box-shadow: 0 0.5rem 1.25rem rgba(0, 0, 0, 0.08);
    transform: translateY(-4px);
  }
}

/* Navbar */
.navbar {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);

  .navbar-brand {
    font-family: $font-family-heading;
    font-weight: 800;
    font-size: 1.5rem;
    transition: transform 0.22s ease;

    &:hover {
      transform: scale(1.02);
    }
  }

  .nav-link {
    font-weight: 500;
    border-radius: 6px;
    padding: 0.5rem 1rem;

    &:hover {
      background-color: rgba($orange-primary, 0.08);
      color: $orange-primary;
    }
  }
}

/* Utility helpers */
.theme-transition {
  transition: background-color var(--transition-smooth),
    color var(--transition-smooth), border-color var(--transition-smooth),
    box-shadow var(--transition-smooth);
}

*:focus-visible {
  outline: 3px solid rgba($orange-primary, 0.35);
  outline-offset: 3px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    transition-duration: 0.001ms !important;
  }
}

/* -------------------------
   Bootstrap Nav Link Overrides (place after bootstrap.css)
   ------------------------- */

/* Scope to your fixed navbar so we don't disturb other navbars */
.navbar-login {
  /* ensure navbar color variables apply */
  color: inherit;
}

/* Base link color (normal state)
   - Use .link_text inside .nav-link where possible so inner text uses the var
*/
.navbar-login .nav-link,
.navbar-login .nav-link > .link_text {
  color: var(--link-text-light, rgb(159, 159, 159));
  background: transparent; /* remove any Bootstrap background */
  opacity: 1; /* counter Bootstrap dimming */
  transition: color 180ms ease;
}

/* Dark-mode override via root attribute */
[data-theme="dark"] .navbar-login .nav-link,
[data-theme="dark"] .navbar-login .nav-link > .link_text,
.theme-dark .navbar-login .nav-link,
.theme-dark .navbar-login .nav-link > .link_text {
  color: var(--link-text-dark, #dde9f6);
}

/* Hover / focus states */
.navbar-login .nav-link:hover,
.navbar-login .nav-link:focus,
.navbar-login .nav-link:focus-visible,
.navbar-login .nav-link:hover > .link_text,
.navbar-login .nav-link:focus > .link_text {
  color: var(--link-text-light-hover, rgb(220, 220, 220));
  background: transparent; /* make sure bootstrap `.nav-link:hover` bg is removed */
  text-decoration: none;
}

[data-theme="dark"] .navbar-login .nav-link:hover,
[data-theme="dark"] .navbar-login .nav-link:focus,
.theme-dark .navbar-login .nav-link:hover,
.theme-dark .navbar-login .nav-link:focus {
  color: var(--link-text-dark-hover, #fff);
}

/* Active / current route styling */
.navbar-login .nav-link.active,
.navbar-login .nav-link[aria-current="page"] {
  color: var(--link-text-active, rgb(34, 34, 34));
}

[data-theme="dark"] .navbar-login .nav-link.active,
.theme-dark .navbar-login .nav-link.active,
[data-theme="dark"] .navbar-login .nav-link[aria-current="page"] {
  color: var(--link-text-active, #fff);
}

/* Remove Bootstrap outline / border resets that collide with your focus styles */
.navbar-login .nav-link:focus {
  box-shadow: none;
}

/* Make sure nav-link wrappers inherit color rather than forcing their own */
.navbar-login .nav-link,
.navbar-login .nav-link * {
  color: inherit !important; /* use sparingly: ensures inner components (icons/text) follow var colors */
}

/* If bootstrap's .navbar-light / .navbar-dark are present, neutralize them inside .navbar-login */
.navbar-login.navbar-light .nav-link,
.navbar-login.navbar-dark .nav-link {
  color: inherit;
  background: transparent;
}

/* Optional: restore pointer hit area but not extra padding from bootstrap */
.navbar-login .nav-link {
  padding-top: 0.4rem;
  padding-bottom: 0.4rem;
  padding-left: 0.75rem; /* keep smaller than bootstrap by default */
  padding-right: 0.75rem;
}

/* Stronger specificity (use only if rules still overridden) */
/* .header_container .navbar-login .nav-link { ... } */
